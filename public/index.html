<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Groww-like SIP Calculator</title>
  <style>
    body { font-family: Inter, Arial, sans-serif; max-width: 760px; margin: 40px auto; padding: 0 16px; color: #111; }
    h1 { font-size: 24px; margin-bottom: 8px; }
    .card { border: 1px solid #e6e6e6; border-radius: 8px; padding: 18px; box-shadow: 0 6px 20px rgba(0,0,0,0.03); }
    label { display:block; margin-top:12px; font-weight:600; }
    input[type="number"], input[type="range"], select { width:100%; padding:8px; margin-top:6px; border-radius:6px; border:1px solid #ddd; box-sizing:border-box; }
    button { margin-top:14px; padding:10px 14px; border:none; border-radius:8px; background:#1f7aef; color:#fff; cursor:pointer; }
    .result { margin-top:18px; font-size:16px; }
    .muted { color:#666; font-size:13px; margin-top:6px; }
    .row { display:flex; gap:10px; }
    .col { flex:1; }
  </style>
</head>
<body>
  <h1>Groww-style SIP Calculator</h1>
  <div class="card">
    <label>Monthly SIP amount (₹)
      <input id="monthly" type="number" min="0" step="1" value="5000">
    </label>

    <div class="row">
      <div class="col">
        <label>Expected annual return (%)</label>
        <input id="annualRate" type="number" min="0" step="0.01" value="12">
        <div class="muted">Use expected CAGR (e.g., 12)</div>
      </div>
      <div class="col">
        <label>Investment horizon (years)</label>
        <input id="years" type="number" min="0.1" step="0.1" value="10">
      </div>
    </div>

    <button id="calc">Calculate</button>

    <div class="result" id="output" aria-live="polite"></div>
  </div>

  <script>
    function formatRupee(x) {
      // basic thousands separator for INR
      return '₹' + Number(x).toLocaleString('en-IN', { maximumFractionDigits: 0 });
    }

    function calcSIP(monthly, annualRate, years) {
      // monthly = monthly contribution
      // annualRate = percent (e.g., 12)
      // years = number of years
      const i = annualRate / 12 / 100; // monthly rate (decimal)
      const n = Math.round(years * 12); // total months
      if (i === 0) {
        const fv = monthly * n;
        return { futureValue: fv, invested: monthly * n, returns: fv - monthly * n };
      }
      // SIP future value formula (end of period contributions)
      // FV = P * ( ((1+i)^n - 1) / i ) * (1+i)^0  -> using end of period (no extra multiply)
      const factor = Math.pow(1 + i, n);
      const fv = monthly * ((factor - 1) / i);
      const invested = monthly * n;
      const returns = fv - invested;
      return { futureValue: fv, invested, returns };
    }

    document.getElementById('calc').addEventListener('click', () => {
      const monthly = parseFloat(document.getElementById('monthly').value) || 0;
      const annualRate = parseFloat(document.getElementById('annualRate').value) || 0;
      const years = parseFloat(document.getElementById('years').value) || 0;

      if (monthly <= 0 || years <= 0) {
        document.getElementById('output').innerHTML = '<strong style="color:#c00">Enter a valid monthly amount and years.</strong>';
        return;
      }

      const res = calcSIP(monthly, annualRate, years);
      const fv = res.futureValue;
      const invested = res.invested;
      const returns = res.returns;

      const fvRounded = fv.toFixed(0);
      const investedRounded = invested.toFixed(0);
      const returnsRounded = returns.toFixed(0);

      document.getElementById('output').innerHTML = `
        <div><strong>Future value:</strong> ${formatRupee(fvRounded)}</div>
        <div><strong>Total invested:</strong> ${formatRupee(investedRounded)}</div>
        <div><strong>Estimated returns:</strong> ${formatRupee(returnsRounded)}</div>
        <div class="muted">Assumes monthly compounding at an annual rate of ${annualRate}% (monthly rate = ${(annualRate/12).toFixed(3)}%). Figures are illustrative.</div>
      `;
    });

    // auto-calc on load
    document.getElementById('calc').click();
  </script>
</body>
</html>
